<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Rz8.AJE2z61FDj@YCe[,">readyForNextCommand</variable><variable id="+5~QEc[,8CyQi2Ov#Jw)">message</variable><variable id="on!7c46j2(Cla21uz?P#">function_name</variable><variable id="LGkj}ZU/DiwF:$,/7`K5">function_id</variable><variable id="5(Rq9#xj+C9}hPX0hUJ*">i</variable><variable id="fYl4D4in;M@PfWa2oOxE">matrix</variable><variable id="@EY:1g[na7OoxN|5x9?g">row</variable><variable id=";X$X[ydmr#8!Y3:3]cbp">col</variable><variable id="*/p^L-QV5*CNV-%kWI4l">response23</variable><variable id="/{[IxcOFw|:ma/cL~+QN">response4</variable></variables><block type="pxt-on-start" id="`t-nIGt%fPIa;a)`CYHh" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="qYugPei@W)MF6XM$7)Bb"><field name="VAR" id="*/p^L-QV5*CNV-%kWI4l">response23</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="$%u5NQ_=n*s6*:L4{k:-"><field name="TEXT"></field></block></value><next><block type="variables_set" id="[v;6*98PwYSoE1}1/tKY"><field name="VAR" id="/{[IxcOFw|:ma/cL~+QN">response4</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="447iUR2{)qFqUAZm|WM8"><field name="TEXT"></field></block></value><next><block type="typescript_statement" id="=VgzVWn}Ay(tvOHK6(w7" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let function_id = &quot;&quot;" numlines="1" declaredvars="function_id"></mutation><next><block type="typescript_statement" id="nd!;h`m){jx9{j0[mYEN" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let function_name = &quot;&quot;" numlines="1" declaredvars="function_name"></mutation><next><block type="typescript_statement" id="}-2.Pu.1E7=^(c|++Zb+" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let message = &quot;&quot;" numlines="1" declaredvars="message"></mutation><next><block type="typescript_statement" id="meM#2nK$/{hl265_CX)C" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let readyForNextCommand = false" numlines="1" declaredvars="readyForNextCommand"></mutation><comment pinned="false" h="80" w="160">basic.showLeds(`
# # # . .
# . # . .
# # # . #
. . # # .
. . # . #
`)</comment><next><block type="typescript_statement" id="3aRyzkTErJ_FBd#gzhg=" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let listenning_to = {" line1="    logo: false," line2="    button_ab: false," line3="    gesture: false," line4="}" numlines="5" declaredvars="listenning_to"></mutation><next><block type="typescript_statement" id="w?ro9@5o;2Nt~3AusH,G" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let commands = {" line1="    logo: &quot;i0&quot;," line2="    button_ab: &quot;i1&quot;," line3="    gesture: &quot;i2&quot;," line4="}" numlines="5" declaredvars="commands"></mutation><next><block type="serialSetTxBufferSize" id="yX*WV4pH7EG.Mc.PiG#A"><value name="size"><shadow type="math_number" id="2?vNMpIFdCSyI$2wTfxw"><field name="NUM">32</field></shadow></value><next><block type="serialSetRxBufferSize" id=".fSr[H7K+N^%IzLEPgMX"><value name="size"><shadow type="math_number" id="Tp%e:f8+%}igufhW76F8"><field name="NUM">96</field></shadow></value><next><block type="typescript_statement" id=";qSNiYnj^h5bTh{__`47" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function add_text (text: string | number) {" line1="    OLED.clear()" line2="    OLED.writeStringNewLine(convertToText(text))" line3="    return 1" line4="}" numlines="5"></mutation><next><block type="typescript_statement" id="zzI6(f~[+OX%3TOt85hy" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const soundExpressionsMap: { [key: number]: SoundExpression } = {" line1="    1: soundExpression.giggle," line2="    2: soundExpression.happy," line3="    3: soundExpression.hello," line4="    4: soundExpression.mysterious," line5="    5: soundExpression.sad," line6="    6: soundExpression.slide," line7="    7: soundExpression.soaring," line8="    8: soundExpression.spring," line9="    9: soundExpression.twinkle" line10="}" numlines="11" declaredvars="soundExpressionsMap"></mutation><next><block type="typescript_statement" id="_,Q4LTE3#bV`7lFm3|a}" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const functions: { [key: string]: Function } = {" line1="    'a': add_text," line2="    'd': read_BME280," line3="    'e': read_dust," line4="    'f': read_light_intensity," line5="    'g': read_noise," line6="    'h': read_pir," line7="    'i': read_soil_humidity," line8="    'j': read_water_level," line9="    'k': read_sonarbit_distance," line10="    'l': move_servo," line11="    'm': read_digital," line12="    'n': read_analog," line13="    'o': write_digital," line14="    'p': write_analog," line15="    'q': set_analog_period," line16="    'r': play_sound," line17="    's': play_music," line18="" line19="    'i0': enable_logo," line20="    'i1': enable_button_ab," line21="    'i2': enable_gesture," line22="    'i3': read_accelerometer," line23="    'i4': read_compass," line24="    'i5': read_temperature," line25="" line26="    'o0': play_sound," line27="    'o1': play_music," line28="    'o2': write_led_matrix," line29="}" numlines="30" declaredvars="functions"></mutation><next><block type="typescript_statement" id="bT-.3-|kw#~RY7VHr$hZ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const pins_map: { [key: string]: number} = {" line1="    'p0': 100," line2="    'p1': 101," line3="    'p2': 102," line4="    'p3': 103," line5="    'p4': 104," line6="    'p5': 105," line7="    'p6': 106," line8="    'p7': 107," line9="    'p8': 108," line10="    'p9': 109," line11="    'p10': 110," line12="    'p11': 111," line13="    'p12': 112," line14="    'p13': 113," line15="    'p14': 114," line16="    'p15': 115," line17="    'p16': 116," line18="    'p19': 119," line19="    'p20': 120 " line20="}" numlines="21" declaredvars="pins_map"></mutation><next><block type="device_led_enable" id="hqxgqiQrJmXesPAC{z@O"><value name="on"><shadow type="logic_boolean" id="u$x3nA@SVV0,ZQr.(#gg"><field name="BOOL">FALSE</field></shadow></value><next><block type="pin_set_audio_pin_enabled" id="MRb.=4-,)~/rkGa[WU8s"><value name="enabled"><shadow type="logic_boolean" id=";=s^sx%Y)Yc#eo%Yt8WF"><field name="BOOL">FALSE</field></shadow></value><next><block type="serial_setbaudrate" id="X#*=eWR?;D9R0BkYV8G#"><field name="rate">BaudRate.BaudRate115200</field><next><block type="OLED_init" id="4Wjkyz5XGZ%}Un)SvW)W"><value name="width"><shadow type="math_number" id="x_^8#YYt*F6rJc6b[7by"><field name="NUM">128</field></shadow></value><value name="height"><shadow type="math_number" id="UTUC-$fP6`w28S(y8Ibi"><field name="NUM">64</field></shadow></value><next><block type="OLED_clear" id="af9itCByp0F?3?.uk3;z"><next><block type="variables_set" id="$9C/B#Uvt+dqfk@.kxiR"><field name="VAR" id="Rz8.AJE2z61FDj@YCe[,">readyForNextCommand</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="]/id_bHS!8S%Ogmj=MX{"><field name="BOOL">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="bFyQ5M}V:IxcPfK_c8|j" x="795" y="280"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="controls_if" id="`zB~bKg8c[ve/`3K{d9{"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="wYE]O}6/1V!Y!7vC@a#7" editable="false"><field name="EXPRESSION">listenning_to.button_ab</field></block></value><statement name="DO0"><block type="serial_writestring" id="A%pt8_(lTj?q9Y;I_!C{"><value name="text"><block type="text_join" id="-pG,$eu_}[`_M~B9MA/="><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="sCtF1fW/Qi-GS7Oo.nZv" editable="false"><field name="EXPRESSION">commands.button_ab</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="c,Okhf.c,k4L=qi8PFf3" editable="false"><field name="EXPRESSION">"::a1\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_button_event" id="3*;+n%6:wzWF$gdw)3?d" x="1474" y="280"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="controls_if" id="P?Flbif,?xKQR6WD.bRP"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="Hw#rdmuZ|J^n.mFf-K+j" editable="false"><field name="EXPRESSION">listenning_to.button_ab</field></block></value><statement name="DO0"><block type="serial_writestring" id="#u?C6Q7#?wj!#0[wtHE8"><value name="text"><block type="text_join" id="*N;Gv^Nxufkxb!aN6I:0"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="/D*Bxuj$x{u*($?]TdcH" editable="false"><field name="EXPRESSION">commands.button_ab</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="yGm.,.U9]R5VIUH-H}[N" editable="false"><field name="EXPRESSION">"::b1\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="1AYed+(o8V+lS~qL`@Ic" x="2153" y="280"><field name="NAME">Gesture.EightG</field><statement name="HANDLER"><block type="controls_if" id=")(ws^U?WrO0ch0LxSkir"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="KiZ@=J1]#M]F$Tv$wAkC" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="y]?dGpwFFVNPen,BPeyg"><value name="text"><block type="text_join" id="z0G_h4{37L}!%=1grXPe"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id=")X0r}=5Yc!f?ae2#mx~g" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="imSqGdNk|H.g@;7}fa~F" editable="false"><field name="EXPRESSION">"::EightG\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="P`Ew{dKcgT[mjjrO-]:?" x="2850" y="280"><field name="NAME">Gesture.FreeFall</field><statement name="HANDLER"><block type="controls_if" id="=G5XT9k~v=Go8*[Vx(o."><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="WgyHUg!j8Y.SSc@gJ;]_" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="4gC?3Ai}f0t|:)uN61W="><value name="text"><block type="text_join" id="zYkQ$L]U)DUXI|mk5f,n"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="]K=CejH%hQ!]L;7]|fG)" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="FQ8yW^6/u=oMB2,u!265" editable="false"><field name="EXPRESSION">"::FreeFall\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="rrNKNR^kv4aW?|wcvRU(" x="3565" y="280"><field name="NAME">Gesture.LogoUp</field><statement name="HANDLER"><block type="controls_if" id="Hi=#Qk?(qy*?8N?gA83r"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="lG6ddK7ju=9*.^WaxXHV" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="c2ok0g_z8D*Yw9]uBR^A"><value name="text"><block type="text_join" id="1g^|D!Ud(uW(|!]MgYMU"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="+(88pn5lfJN]bD#f.rmC" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="N]$qP/[.96bj8K[YD`G(" editable="false"><field name="EXPRESSION">"::LogoUp\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="yL4ucIurA9w]YR[M6*H)" x="4261" y="280"><field name="NAME">Gesture.TiltLeft</field><statement name="HANDLER"><block type="controls_if" id="-x8Ity@-$8?nm9wGs85u"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="3YvBF}lGnF.[L{]0ZRu/" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="Rma5yB4?!_A4ko4!TTaX"><value name="text"><block type="text_join" id="7Z9n%se95kiq~lV~00=y"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="]Jfy-O(NW{Vao_OtWd.Y" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id=".:$$ZWD|ZN|]S8r*hy#C" editable="false"><field name="EXPRESSION">"::TiltLeft\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="WazR=}Np7VsoVVMz;xUp" x="4976" y="280"><field name="NAME">Gesture.SixG</field><statement name="HANDLER"><block type="controls_if" id="`d8t?{_vlK}!3{9E^r~o"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="VIW9|hxNAAF,J6LxqsjH" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="q/@Ep/KAx0h72$MzTb{7"><value name="text"><block type="text_join" id="iY2+;+;4ppyIz5-{9rX["><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="[QJ^ocR,@Bh2xF4X~1pY" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="QN;lrVG,}{gjI+OQm@WO" editable="false"><field name="EXPRESSION">"::SixG\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="[i-obLeY6y-Gnbs:8H,F" x="834" y="4205"><field name="NAME">Gesture.TiltRight</field><statement name="HANDLER"><block type="controls_if" id=":H_NFJiI[?~|lz1mcFwl"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="tP`k_6@qyni#^+cZ5|jz" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="Zn]#erJL@~N_Olt9x/(B"><value name="text"><block type="text_join" id="SYfa1.dmYBUV[PIGDIf{"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="zUYFv}Fjfe/_CAucS~-C" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="~#Rqc~aCw9E!52z^81|+" editable="false"><field name="EXPRESSION">"::TiltRight\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="o@E)krl}p:{LDNvXZ2-O" x="1557" y="4205"><field name="NAME">Gesture.LogoDown</field><statement name="HANDLER"><block type="controls_if" id="vGneqQod0pac,qbDwk]F"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="DT*KGq4Hw5IMq`W:a3@[" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="Y@!*shO;:4k7%xXj.Y,8"><value name="text"><block type="text_join" id="apzXtNt)e@P)2my^E%$%"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="0.2aHQ$Q}zFbSGTxR0SR" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="pPaqGZZmYd]!ihs{XZx}" editable="false"><field name="EXPRESSION">"::LogoDown\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="@SfJF=f!+EWwekJh4*$B" x="2272" y="4205"><field name="NAME">Gesture.ThreeG</field><statement name="HANDLER"><block type="controls_if" id="#OK_aBh/zJ2m*4}.uzwn"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="/.~S;/;M42;@v@/=E-:w" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="S3$Xs]5ZO,{/u+aT_wM-"><value name="text"><block type="text_join" id="h$rrhu#ULg$7PA^~/s(Y"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="oKjaj]mVZX.DH[z:[rXu" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="3n*f[j(0}`[q|(ttw|VV" editable="false"><field name="EXPRESSION">"::ThreeG\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="P:#-SPy2uKxcxv=_|sad" x="2969" y="4205"><field name="NAME">Gesture.ScreenUp</field><statement name="HANDLER"><block type="controls_if" id="9J%.i3eUrs810kRhg^HF"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="hip`W!SI{8u*{Q+O,58c" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="#GzDz7C9]SXeB#Uy+!/!"><value name="text"><block type="text_join" id="xqHiJ[*swx%0;C;/0/Ml"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="cU4wjx0I;|-5KO:W@YI{" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="@sqWyM68+9PHgZXYI$9C" editable="false"><field name="EXPRESSION">"::ScreenUp\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="R@d2T1U|7g_o}Wvt/Kj+" x="3683" y="4205"><field name="NAME">Gesture.ScreenDown</field><statement name="HANDLER"><block type="controls_if" id="]do5~_4lRLyWyVxs*/01"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="e|*:[tBaTw-;Z}9^z]o6" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="H9sr-m1P1xC`|W):XExr"><value name="text"><block type="text_join" id="k]F/;!6*CO-)MrOAhl@W"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="Of4/`VhnyXL1Plf_C`Xs" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="ngC[?M}YCql3%)SHI(fN" editable="false"><field name="EXPRESSION">"::ScreenDown\n"</field></block></value></block></value></block></statement></block></statement></block><block type="input_logo_event" id="fbI+J}c??s98M8;h%H+z" x="4415" y="4205"><field name="action">TouchButtonEvent.Released</field><statement name="HANDLER"><block type="controls_if" id="$i;=Ly![Qh%GT=G30r$w"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="_m|yua}aT_=I*W1cF|$^" editable="false"><field name="EXPRESSION">listenning_to.logo</field></block></value><statement name="DO0"><block type="serial_writestring" id="[K{yh|#2mDZ^*74Zy@8%"><value name="text"><block type="text_join" id="lUD=8_m%#@KPcEJs6J0e"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="a5PClwj+7Y}XoC{lXO}%" editable="false"><field name="EXPRESSION">commands.logo</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="YTn;B_%=U9TUo1Ven@hC" editable="false"><field name="EXPRESSION">"::0\n"</field></block></value></block></value></block></statement></block></statement></block><block type="input_logo_event" id="m*5^mu@VIiNlL1(^$N,N" x="5042" y="4205"><field name="action">TouchButtonEvent.Touched</field><statement name="HANDLER"><block type="controls_if" id="xD)ZbJI5AkWz-RFOVHE`"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="Wd0=7cUOZH9S0{72HS:W" editable="false"><field name="EXPRESSION">listenning_to.logo</field></block></value><statement name="DO0"><block type="serial_writestring" id="M%624gAdk?XmrPY!`e(!"><value name="text"><block type="text_join" id="]C-PQ-_d.}/X0,T/gwzp"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="98o!NG/V~dGOoH6=G;f0" editable="false"><field name="EXPRESSION">commands.logo</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="/xjal`-pag^ct#bYcqp3" editable="false"><field name="EXPRESSION">"::1\n"</field></block></value></block></value></block></statement></block></statement></block><block type="device_gesture_event" id="-4?oM2Vo*hG5WmR7CQc;" x="-33" y="4499"><field name="NAME">Gesture.Shake</field><statement name="HANDLER"><block type="controls_if" id="XDnJ/7Mhfb3ceYCFt~3H"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="pdJEd:AHOp]x4R*L;?sK" editable="false"><field name="EXPRESSION">listenning_to.gesture</field></block></value><statement name="DO0"><block type="serial_writestring" id="lEziLS/F/WbY[S3]V=Ug"><value name="text"><block type="text_join" id="=*p*(.O!Zm*I#Uc3ft*x"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="?F.UCzp2Hh`fHX`Cbql5" editable="false"><field name="EXPRESSION">commands.gesture</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="/HD!%/^CRQoVNu}Z?L+1" editable="false"><field name="EXPRESSION">"::Shake\n"</field></block></value></block></value></block></statement></block></statement></block><block type="function_definition" id="6H/|(;QRV7Nj{`AGj#8b" x="997" y="4466"><mutation name="move_servo" functionid="+`7er{qGqT(GDe#l2ayB"><arg name="pin" id="yqutx10inr0hbg4nlf03" type="number"></arg><arg name="angle" id="cjsrpk9i47zw1czm3b3a" type="number"></arg></mutation><field name="function_name">move_servo</field><value name="yqutx10inr0hbg4nlf03"><shadow type="argument_reporter_number" id="aQ^--4XmjhdJvn4(sD?E"><field name="VALUE">pin</field></shadow></value><value name="cjsrpk9i47zw1czm3b3a"><shadow type="argument_reporter_number" id="Se{I{.|UH]ITa0,8fnPU"><field name="VALUE">angle</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="%@(K5;mXqmz,b0ixrffv" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.servoWritePin(pin, angle)" numlines="1"></mutation><next><block type="function_return" id="5QT}((~e^UOq3{v4adw{"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="~B;8u%,f0N=ab^|R4(p!"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="rN{%3q;en}_x,s}SD*@u" x="1407" y="4466"><mutation name="play_sound" functionid="aO[y[eD6e0ZWnq76y;$T"><arg name="sound_id" id="x0wyokras9gu90ssvpk0h" type="number"></arg></mutation><field name="function_name">play_sound</field><value name="x0wyokras9gu90ssvpk0h"><shadow type="argument_reporter_number" id="Y5Us13BmZw04JQ}:ApL%"><field name="VALUE">sound_id</field></shadow></value><statement name="STACK"><block type="music_playable_play" id="k}U7j(anm!Qu!GE=`@7y"><field name="playbackMode">music.PlaybackMode.InBackground</field><value name="toPlay"><shadow type="music_string_playable"></shadow><block type="typescript_expression" id="GCMWmH7B^s-pov{C+uSd" editable="false"><field name="EXPRESSION">music.builtinPlayableSoundEffect(soundExpressionsMap[sound_id])</field></block></value><next><block type="function_return" id="=eGOkqh3$lRghhVaC~G^"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="/f/6t_BRxj15j`^;rSSr"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="iE)9j.7%=UQ|0iefEy%|" x="2262" y="4466"><mutation name="set_analog_period" functionid="Og/8|Q3OtGW$X=fYV?]H"><arg name="pin" id="19ry80d3ybfs33c1tk238" type="number"></arg><arg name="period" id="636g0tya21ewrbo981xn" type="number"></arg></mutation><field name="function_name">set_analog_period</field><value name="19ry80d3ybfs33c1tk238"><shadow type="argument_reporter_number" id="QCmL;+!4w}|L)/2X$Vck"><field name="VALUE">pin</field></shadow></value><value name="636g0tya21ewrbo981xn"><shadow type="argument_reporter_number" id="RsJ~ui~$?:;apdKj_fBJ"><field name="VALUE">period</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="`cx5%::MknqV9n-PBn74" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.analogSetPeriod(pin, period)" numlines="1"></mutation><next><block type="function_return" id="KkALOTn_Q`8gZMXdHcyr"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="9[lpdK:Mq:^|!yo@qRb@"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="/yvt^fy}o}6;lhM)DF8}" x="2742" y="4466"><mutation name="play_music" functionid="tMND$Q?`QTILcWmKu2]x"><arg name="music_id" id="plup7djl8ojtvh5hmzj92" type="number"></arg></mutation><field name="function_name">play_music</field><value name="plup7djl8ojtvh5hmzj92"><shadow type="argument_reporter_number" id="?wd@?PnSR9EylvNftCC-"><field name="VALUE">music_id</field></shadow></value><statement name="STACK"><block type="music_playable_play_default_bkg" id="FH)qY?n3s;ejjuOWU~w7"><field name="playbackMode">music.PlaybackMode.InBackground</field><value name="toPlay"><shadow type="music_string_playable"></shadow><block type="typescript_expression" id="{[$8v{cw47T2;^)b_~[%" editable="false"><field name="EXPRESSION">music.builtInPlayableMelody(music_id)</field></block></value><next><block type="function_return" id="Mw07CkBTH*5j0fThG]d!"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="nO;r8Q8J3v0m1JCe^gl8"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="rW|fC53qDZwea-6IPbca" x="3368" y="4466"><mutation name="read_accelerometer" functionid="A4J.yTu)m*yB+=,1;Yge"></mutation><field name="function_name">read_accelerometer</field><statement name="STACK"><block type="function_return" id="d]PZSU[V*V2`Fh]PX~yi"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="=jC]?KUX6DMtj+#8/6[N" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="device_acceleration" id="CEb2bK=Do!Ti^4z,awoY"><field name="NAME">Dimension.X</field></block></value><value name="ADD1"><shadow type="text" id="9$%d?]n:0A?vUS7;Vya["><field name="TEXT">,</field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"></field></shadow><block type="device_acceleration" id="sgZ/[Pn4tg*b%5aBNG=o"><field name="NAME">Dimension.Y</field></block></value><value name="ADD3"><shadow type="text" id="W.:Tp:jJMf-:NYx#Z6Z#"><field name="TEXT">,</field></shadow></value><value name="ADD4"><shadow type="text"><field name="TEXT"></field></shadow><block type="device_acceleration" id="OR9S%KNv.YMho1_SD,iy"><field name="NAME">Dimension.Z</field></block></value></block></value></block></statement></block><block type="function_definition" id=")-nL$3fRCFx27?d^%rTk" x="3772" y="4466"><mutation name="read_compass" functionid="cq}/+|dkZ.MzXr;w^-cU"></mutation><field name="function_name">read_compass</field><statement name="STACK"><block type="function_return" id="BWB8UWYw3]c]jwg8qb4o"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_heading" id="HD0:ynS)1w6ZxX!4FedX"></block></value></block></statement></block><block type="function_definition" id="u9vYr}hO];2i*`oQLyGV" x="4133" y="4466"><mutation name="read_temperature" functionid="3^AsKpKFlve-RY#WB4(u"></mutation><field name="function_name">read_temperature</field><statement name="STACK"><block type="function_return" id="Ihres(q{dqjN%~7|}i1E"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_temperature" id="En9l{n5wv6Y[qzW;AUD["></block></value></block></statement></block><block type="function_definition" id="Fgcax,6Xdro7+!;V-W$6" x="4467" y="4466"><mutation name="read_water_level" functionid="(5%tBfe9Ji;dJF4zZUS3"><arg name="water_level_pin" id="svel0cezddy8ebl6e024" type="number"></arg></mutation><field name="function_name">read_water_level</field><value name="svel0cezddy8ebl6e024"><shadow type="argument_reporter_number" id="p@nfwT%ik6E8,Zv(pjw?"><field name="VALUE">water_level_pin</field></shadow></value><statement name="STACK"><block type="function_return" id="02YaxB569AY]ec-eD7^Y"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Y;v#RC`$Wmp1f!cYU%F(" editable="false"><field name="EXPRESSION">Environment.ReadWaterLevel(water_level_pin)</field></block></value></block></statement></block><block type="function_definition" id="P=8[Y^GB1-CgI@M;;fS9" x="5037" y="4466"><mutation name="read_analog" functionid="]KAs0brE9e_F3[JvVMR4"><arg name="pin" id="azy4kazywb6wzocfndncv" type="number"></arg></mutation><field name="function_name">read_analog</field><value name="azy4kazywb6wzocfndncv"><shadow type="argument_reporter_number" id="QKQFx/v5`=zq/T_3_pYH"><field name="VALUE">pin</field></shadow></value><statement name="STACK"><block type="function_return" id="z%Wex(Us|_BsAl4bt(ME"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="].oA$JV[7xMTiL;Q]:FC" editable="false"><field name="EXPRESSION">pins.analogReadPin(pin)</field></block></value></block></statement></block><block type="serial_on_data_received" id="y%}Ibx5Ed:tFz8mHIb2T" x="-49" y="4741"><value name="delimiters"><shadow type="serial_delimiter_conv" id="^V*G2yq#FUBaPE8d!qm4"><field name="del">Delimiters.NewLine</field></shadow></value><statement name="HANDLER"><block type="controls_if" id="cDgKN+Q|h/GT0-Hyj,Y@"><comment pinned="false" h="80" w="160">exit if not ready</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="{#XYQ1M2}UcGSr1eHy47"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="XatG(.kF/e}|2O!n)@ea"><field name="VAR" id="Rz8.AJE2z61FDj@YCe[,">readyForNextCommand</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="d.~Lm^T9Zu2c=/mV*9(n" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return;" numlines="1"></mutation></block></statement><next><block type="variables_set" id="uzGV%50LG@tD{6%K0Eg@"><field name="VAR" id="+5~QEc[,8CyQi2Ov#Jw)">message</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="serial_read_until" id="uh|pTa^pgE7a4WQ94h9f"><value name="delimiter"><shadow type="serial_delimiter_conv" id="{0Z{2[TMkR}vZk@s5Oc,"><field name="del">Delimiters.NewLine</field></shadow></value></block></value><next><block type="variables_set" id="V%WW/IzuF:x%X1{#d]NP"><field name="VAR" id="on!7c46j2(Cla21uz?P#">function_name</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="rqy/3oKk]m%kBL5juB$^"><field name="TEXT">exception</field></block></value><next><block type="variables_set" id="/#K}IHk)72={.JC8dE7W"><field name="VAR" id="LGkj}ZU/DiwF:$,/7`K5">function_id</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="S!83I40+4tDto*2OG|,A"><field name="TEXT">exception</field></block></value><next><block type="variables_set" id="3)eLFljA:{J+|$jrqhg@"><field name="VAR" id="Rz8.AJE2z61FDj@YCe[,">readyForNextCommand</field><comment pinned="false" h="80" w="160">set to false immediately after starting processing</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id=":WWF9yfl[Ns(j3U}3U12"><field name="BOOL">FALSE</field></block></value><next><block type="typescript_statement" id="8(b@mZw%{tUWI+tQV@UH" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="try {" line1="        let parts = message.split(&quot;:&quot;);" line2="        if (parts.length &lt; 2) throw &quot;Invalid data format&quot;;" line3="" line4="        function_name = parts[0];" line5="        function_id = parts[1];" line6="        let args = parts.slice(2);" line7="" line8="        let func = functions[function_name];" line9="        if (!func) throw &quot;Function not found&quot;;" line10="" line11="        let parsed_args: any[] = [];" line12="        for (let arg of args) {" line13="            if (pins_map[arg] !== undefined) {" line14="                parsed_args.push(pins_map[arg]);" line15="            } else {" line16="                let parsedInt = parseInt(arg);" line17="                if (!isNaN(parsedInt)) {" line18="                    parsed_args.push(parsedInt);" line19="                } else {" line20="                    parsed_args.push(arg);" line21="                }" line22="            }" line23="        }" line24="" line25="        let result;" line26="        switch (parsed_args.length) {" line27="            case 0:" line28="                result = func();" line29="                break;" line30="            case 1:" line31="                result = func(parsed_args[0]);" line32="                break;" line33="            case 2:" line34="                result = func(parsed_args[0], parsed_args[1]);" line35="                break;" line36="            case 3:" line37="                result = func(parsed_args[0], parsed_args[1], parsed_args[2]);" line38="                break;" line39="            default:" line40="                result = -1; // handle case when number of arguments exceed expectations" line41="                break;" line42="        }" line43="" line44="        let response3 = function_name + &quot;:&quot; + function_id + &quot;:&quot; + result + &quot;\n&quot;;" line45="        serial.writeString(response3);" line46="    } catch (e) {" line47="        let response22 = function_name + &quot;:&quot; + function_id + &quot;:-1\n&quot;;" line48="        serial.writeString(response22);" line49="    } finally {" line50="        readyForNextCommand = true; // set to true once processing is done" line51="        basic.pause(50); // 50ms delay to provide buffer" line52="    }" numlines="53"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="`hmo0IR(:I4?8_)YIqc-" x="146" y="7047"><mutation name="write_analog" functionid="0xXC|,f8;{A_M)L[J^Z="><arg name="pin" id="x30od2uh95hlum5vxru" type="number"></arg><arg name="value" id="u8fuj0p37eskbryphtsk6" type="number"></arg></mutation><field name="function_name">write_analog</field><value name="x30od2uh95hlum5vxru"><shadow type="argument_reporter_number" id="%K=c2iIu*T~xR5wA_~WC"><field name="VALUE">pin</field></shadow></value><value name="u8fuj0p37eskbryphtsk6"><shadow type="argument_reporter_number" id="m]y{M4P}LY=(f^r+#sHI"><field name="VALUE">value</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="YUrqMtfeEQVs^F)+f#[+" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.analogWritePin(pin, value)" numlines="1"></mutation><next><block type="function_return" id="%}zVM/|p[qp-ok5PL(vs"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="-}3{`q14Tw$MSfqh|oTy"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="i:=1q}aa0H413t7^Rj(_" x="573" y="7047"><mutation name="read_light_intensity" functionid="{4r{;@#7Fm{c@++kJq4u"><arg name="light_intensity_pin" id="acaxuv9ejadjvgdp3ybp" type="number"></arg></mutation><field name="function_name">read_light_intensity</field><value name="acaxuv9ejadjvgdp3ybp"><shadow type="argument_reporter_number" id="!7ofMh5QEW2r7Wwcuv{R"><field name="VALUE">light_intensity_pin</field></shadow></value><statement name="STACK"><block type="function_return" id="c=7DDF$GkhejI59vQr~l"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Zb,[(d5fAa^C.cS*umYM" editable="false"><field name="EXPRESSION">Environment.ReadLightIntensity(light_intensity_pin)</field></block></value></block></statement></block><block type="function_definition" id="/UgY[H$rQ$C3DZ;n`Sn6" x="1214" y="7047"><mutation name="read_digital" functionid="%4e;p/S%P9;7wTX401ch"><arg name="pin" id="a09va4136wfwrd9zvxh2" type="number"></arg></mutation><field name="function_name">read_digital</field><value name="a09va4136wfwrd9zvxh2"><shadow type="argument_reporter_number" id="V7+3sXwM;uEkc!jY1lf|"><field name="VALUE">pin</field></shadow></value><statement name="STACK"><block type="function_return" id="RgD)rBH@`*!HH1eZmOUU"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="@R!cu^mQAhL3A;4k1D5l" editable="false"><field name="EXPRESSION">pins.digitalReadPin(pin)</field></block></value></block></statement></block><block type="function_definition" id="`1duzQdg21~k7@3oh!=9" x="1617" y="7047"><mutation name="read_sonarbit_distance" functionid="s]HzdwK8NG~#Bf{KVWpW"><arg name="pin" id="esynepmaihuq2b5rgmtxa" type="number"></arg><arg name="distance_unit" id="40zq3vha8u2j5tq6vscl" type="number"></arg></mutation><field name="function_name">read_sonarbit_distance</field><value name="esynepmaihuq2b5rgmtxa"><shadow type="argument_reporter_number" id="Zb=_KyDFnQfp{[(GHB)@"><field name="VALUE">pin</field></shadow></value><value name="40zq3vha8u2j5tq6vscl"><shadow type="argument_reporter_number" id=")a[=HZ#8MfJnOU}f{1j*"><field name="VALUE">distance_unit</field></shadow></value><statement name="STACK"><block type="function_return" id="{Lqck/$$|vD]_no?YEVa"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="=N:t(w%!(Ohmm0aIF?e!"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="7zzCuVkJoj0Q6y5USdLH" editable="false"><field name="EXPRESSION">Environment.sonarbit_distance(distance_unit, pin)</field></block></value><value name="B"><shadow type="math_number" id="z4+1!,aE%VEZ]FdUaY-n"><field name="NUM">2</field></shadow></value></block></value></block></statement></block><block type="function_definition" id="#u$7wAJm+bsh:uoxpv%H" x="2348" y="7047"><mutation name="read_soil_humidity" functionid="21+y$dY%GE:N~,D5t$`a"><arg name="soil_moisture_pin" id="spw3opffcz0aj3cn212r" type="number"></arg></mutation><field name="function_name">read_soil_humidity</field><value name="spw3opffcz0aj3cn212r"><shadow type="argument_reporter_number" id="i!q.{3)PFpvVo2aI_Vr1"><field name="VALUE">soil_moisture_pin</field></shadow></value><statement name="STACK"><block type="function_return" id="KEgvujr%G*t:-zcCy-fb"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="32@p45UAUn-ltbE$@ll6" editable="false"><field name="EXPRESSION">Environment.ReadSoilHumidity(soil_moisture_pin)</field></block></value></block></statement></block><block type="function_definition" id="{MHq2pr%|Tdviv!(:9Cg" x="2954" y="7047"><mutation name="read_noise" functionid="NYFTXgMwwRnkw-#W4gYI"><arg name="noise_pin" id="25yxo17yhpnqbf831pgfp" type="number"></arg></mutation><field name="function_name">read_noise</field><value name="25yxo17yhpnqbf831pgfp"><shadow type="argument_reporter_number" id="zLL%B)|NL.cIl8~7BEv;"><field name="VALUE">noise_pin</field></shadow></value><statement name="STACK"><block type="function_return" id="fQfPD;z^6aP0QW}Ub$2*"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="P6_67.8~@cyh4v`K]jlU" editable="false"><field name="EXPRESSION">Environment.ReadNoise(noise_pin)</field></block></value></block></statement></block><block type="function_definition" id="5]gmfTh_tJe(.0SEni=R" x="3427" y="7047"><mutation name="read_dust" functionid="4zDsHAGoz,o:K|}g2[QY"><arg name="v_led" id="na92zdr7r3zd7bsdb8ex" type="number"></arg><arg name="vo" id="ii1hgdgtishdjpkq1gel" type="number"></arg></mutation><field name="function_name">read_dust</field><value name="na92zdr7r3zd7bsdb8ex"><shadow type="argument_reporter_number" id="K!EIa{5,N@,1k1yYv`#x"><field name="VALUE">v_led</field></shadow></value><value name="ii1hgdgtishdjpkq1gel"><shadow type="argument_reporter_number" id="xJp9Q!=fC:OV^?Mfv6L^"><field name="VALUE">vo</field></shadow></value><statement name="STACK"><block type="function_return" id="g5ua~WTkn4#2qN|$zGwA"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="F8:AOp7rgR/]zbI7Gq}8" editable="false"><field name="EXPRESSION">Environment.ReadDust(v_led, vo)</field></block></value></block></statement></block><block type="function_definition" id="+ZlJp1y(bI(6b;uP+T-l" x="3891" y="7047"><mutation name="read_pir" functionid="5p$vmImhDj1{q5S{fO5."><arg name="pin" id="rwhg9ekl0ubvy0guk3ah" type="number"></arg></mutation><field name="function_name">read_pir</field><value name="rwhg9ekl0ubvy0guk3ah"><shadow type="argument_reporter_number" id="{A#Y7cPKI!m0pzOC4-8k"><field name="VALUE">pin</field></shadow></value><statement name="STACK"><block type="controls_if" id="S6KkR_h`9]jd;f-hMnO="><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="Ika%dC[E5#op~P#e0D!S" editable="false"><field name="EXPRESSION">Environment.PIR(pin)</field></block></value><statement name="DO0"><block type="function_return" id="g%m+d:K[4*j;[)W49e.o"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="J-vSrN6@$a#kCu6QK8RT"><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="function_return" id="0oDW61YtG@T=)YyZQEx["><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="_P8t[(b@!gNzRn9?CwF;"><field name="NUM">0</field></shadow></value></block></statement></block></statement></block><block type="function_definition" id="Z~QGRPNVmlF(bf_-9TEc" x="4249" y="7047"><mutation name="enable_logo" functionid=".ors(^f$$RJSk,)`O2/V"><arg name="state" id="trv0kkh6mrf439ag3mqhv" type="number"></arg></mutation><field name="function_name">enable_logo</field><value name="trv0kkh6mrf439ag3mqhv"><shadow type="argument_reporter_number" id="tS_3o[QIt:z7{LDf~oKf"><field name="VALUE">state</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="U.c$-u1mgPU)|*ID]:06" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="listenning_to.logo = state === 1;" numlines="1"></mutation><next><block type="function_return" id="rYqen..slof5)LNv5HFz"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="}s*C).*~|s(U~K?W|!)`" editable="false"><field name="EXPRESSION">state === 1 ? "ready" : state === 0 ? "off" : state</field></block></value></block></next></block></statement></block><block type="function_definition" id="C~w1:flL]?H`SqAB%kB/" x="4890" y="7047"><mutation name="enable_button_ab" functionid="RHqFCZ_yM_nVPA+O.wHA"><arg name="state" id="zmuwdkmzymdbxcqz04h8k" type="number"></arg></mutation><field name="function_name">enable_button_ab</field><value name="zmuwdkmzymdbxcqz04h8k"><shadow type="argument_reporter_number" id="c|efS%je;]n#[GK.v:$U"><field name="VALUE">state</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="4Nd#dBAud5L5blBeG:bF" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="listenning_to.button_ab = state === 1;" numlines="1"></mutation><next><block type="function_return" id="}H/%FrP{gRHiI_KSt|?="><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Nt+*9D1?i9RX_CUY*p8+" editable="false"><field name="EXPRESSION">state === 1 ? "ready" : state === 0 ? "off" : state</field></block></value></block></next></block></statement></block><block type="function_definition" id="CX=1HC-DYi~t;xq3J_El" x="146" y="7402"><mutation name="enable_gesture" functionid="81AjIinc5JnLh8*~B(Xq"><arg name="state" id="vu4ux8w6jl0lyv36kb9c" type="number"></arg></mutation><field name="function_name">enable_gesture</field><value name="vu4ux8w6jl0lyv36kb9c"><shadow type="argument_reporter_number" id="=gTXaB~vIf[yO;7h@*v%"><field name="VALUE">state</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="d[5;vIHeG.F0_{IcVHMQ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="listenning_to.gesture = state === 1;" numlines="1"></mutation><next><block type="function_return" id="#H^3rjVt01qB*;?v7xgu"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id=";9L:/)]1IO9OT#eviQ]B" editable="false"><field name="EXPRESSION">state === 1 ? "ready" : state === 0 ? "off" : state</field></block></value></block></next></block></statement></block><block type="function_definition" id="dZ^-8Ui]Y$`.Mi+6Rv}A" x="786" y="7402"><mutation name="write_led_matrix" functionid="I3*M!{i9UXE=#rlFPxdX"><arg name="pattern" id="e0cyfxm40n1sa5vcx77u" type="string"></arg></mutation><field name="function_name">write_led_matrix</field><comment pinned="false" h="80" w="160">Convert the pattern to a 5x5 matrix</comment><value name="e0cyfxm40n1sa5vcx77u"><shadow type="argument_reporter_string" id="Lj6u[O$L])$YpA!U;~|Z"><field name="VALUE">pattern</field></shadow></value><statement name="STACK"><block type="device_plot" id="RPi330FVr~nXD*?[*5.L"><comment pinned="false" h="80" w="160">basic.showLeds(`
# . . . .
. . . . .
. . . # .
. . . . .
. # # # #
`)</comment><value name="x"><shadow type="math_number_minmax" id="$R+_!Z6J^.rVB7wjt%Xs"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">2</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="lrd(?_yff#8=hFqoP$`-"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">3</field></shadow></value><next><block type="device_plot" id="pRpy)=C/nqMHBUGz,iDw"><value name="x"><shadow type="math_number_minmax" id="{pDz0@M4;N++?PD,Oi~/"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">3</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="`++7~^}uC-h$M4k^LHNC"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">2</field></shadow></value><next><block type="controls_if" id="{+=4rShL7oiZ5$jWRA:M"><comment pinned="false" h="80" w="160">if (led.point(2, 3)) {
return 5
} else {
return 7
}
Ensure the pattern has exactly 25 characters</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="gkXw?Z#d~ddgT2OViha7"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_length" id="iQ-~a{D(!uc.f(m(J((`"><value name="VALUE"><block type="argument_reporter_string" id="c)u]w,?ck1kP:m7wHDpR"><field name="VALUE">pattern</field></block></value></block></value><value name="B"><shadow type="math_number" id="d$Z?Uw+W,hBZL#52L[?G"><field name="NUM">25</field></shadow></value></block></value><statement name="DO0"><block type="function_return" id="=~,G4Ez`d?X+CA:W[Xfw"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="U4Yhv?;Wi/%DU-Nl+a!U"><field name="TEXT">patternError</field></block></value></block></statement><next><block type="pxt_controls_for" id="aYW)YI2Tn#%Ke79MeNRe"><value name="VAR"><shadow type="variables_get_reporter" id="j68yujVVoL798)*i^:(2"><field name="VAR" id="5(Rq9#xj+C9}hPX0hUJ*">i</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="HK^U~Ww}CC+](zbZoWJQ"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="array_push" id="k:;yD9Qcp~}|RBoq[1?7"><value name="list"><block type="variables_get" id="|fs|W$6Ua0$Co3/z8P$h"><field name="VAR" id="fYl4D4in;M@PfWa2oOxE">matrix</field></block></value><value name="value"><block type="string_split" id="X$8-_dAhEnMBxzX{I^wg"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="typescript_expression" id="FefB]CZT6h@2x)Noz%-6" editable="false"><field name="EXPRESSION">pattern.slice(i * 5, (i + 1) * 5)</field></block></value><value name="separator"><shadow type="text" id="4*o}|HRUpWacc)%J^X#L"><field name="TEXT"></field></shadow></value></block></value></block></statement><next><block type="pxt_controls_for" id="F]JFE#A0*Ol}Shq93k:t"><comment pinned="false" h="80" w="160">Display the pattern on the LED matrix
let feedback = ''</comment><value name="VAR"><shadow type="variables_get_reporter" id="Og0e`S;GAMRfCzr(dbx7"><field name="VAR" id="@EY:1g[na7OoxN|5x9?g">row</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="0N4:-i/vojq9D2%sma|a"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="pxt_controls_for" id="#.4Vc_Qdh73Qiri#AlBE"><value name="VAR"><shadow type="variables_get_reporter" id="I}8f[L}9/E)v[Pts`Ppe"><field name="VAR" id=";X$X[ydmr#8!Y3:3]cbp">col</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="Xt[v$cL1!Qdsv@+b#lmp"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="controls_if" id="g)L9Vo6[y-36Ky.,$^Yo"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">feedback += `(row, ${row}, col, ${col})`</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Tnc!Ec!kKd,B4+(96/)i"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="cHsfa0`OFZ5KGof^%P.$"><value name="LIST"><block type="lists_index_get" id="hTD/^nBtfxZVH4F+rSxl"><value name="LIST"><block type="variables_get" id="lT]tJ]m+|1{P_H:p-lcf"><field name="VAR" id="fYl4D4in;M@PfWa2oOxE">matrix</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="syg[t6TQa?}gl0yWfrVz"><field name="VAR" id="@EY:1g[na7OoxN|5x9?g">row</field></block></value></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="f[Bu$zN!ZcgQHBbx:R#]"><field name="VAR" id=";X$X[ydmr#8!Y3:3]cbp">col</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="~?p7~=:dibuDpxm%^r0h"><field name="TEXT">#</field></block></value></block></value><statement name="DO0"><block type="device_plot" id="ykjS_@d{XisbGDIbH^Ba"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="8LPky7;}PEunNimmA/0,"><field name="VAR" id="@EY:1g[na7OoxN|5x9?g">row</field></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="|nlML~)zgo1xWTw#/Y?!"><field name="VAR" id=";X$X[ydmr#8!Y3:3]cbp">col</field></block></value></block></statement><statement name="ELSE"><block type="device_unplot" id="{#aJZwJxCf@n!8Q`*JbI"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="e$PD#IW0f1SF2Ujd3kX~"><field name="VAR" id="@EY:1g[na7OoxN|5x9?g">row</field></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="xoMFNmh5EGb#}8d9:4z7"><field name="VAR" id=";X$X[ydmr#8!Y3:3]cbp">col</field></block></value></block></statement></block></statement></block></statement><next><block type="function_return" id="}zP=vo~gSrbI{^c{aBo{"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="FW(m%MU:m:R2C+Z~[Yaj"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="9Hpy{w%*e+l/8$Go8Rf4" x="1702" y="7402"><mutation name="write_digital" functionid="hN52l99,aW.f-#_E:qVS"><arg name="pin" id="l2z5i3e4ohl90tpoxowe6j" type="number"></arg><arg name="value" id="qil54hb6lk9jcoqazgfc" type="number"></arg></mutation><field name="function_name">write_digital</field><value name="l2z5i3e4ohl90tpoxowe6j"><shadow type="argument_reporter_number" id="zGlAXG;fgX~d5le-]@O7"><field name="VALUE">pin</field></shadow></value><value name="qil54hb6lk9jcoqazgfc"><shadow type="argument_reporter_number" id=")biOMv8:$Puiws`rS-uR"><field name="VALUE">value</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="qZ*;9RO~#cu,/tH8E:x6" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.digitalWritePin(pin, value)" numlines="1"></mutation><next><block type="function_return" id="Ua_8}vG|[eeVE$5=3f+S"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="8Q8UM!(Xa%x!z)uB(t@B"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="7pA]TYrIRdTlvbj_!i}l" x="2138" y="7402"><mutation name="read_BME280" functionid="cdBB_iR;xi7`x5//r55W"><arg name="state" id="m4fgkt0wok7yyyzwf5lg" type="number"></arg></mutation><field name="function_name">read_BME280</field><value name="m4fgkt0wok7yyyzwf5lg"><shadow type="argument_reporter_number" id="e=DVPx-7R*0t}ZM?ntKs"><field name="VALUE">state</field></shadow></value><statement name="STACK"><block type="controls_if" id="^~es4T:9xu~)ZTh!0#l@"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="_8EzLh1U`S4b:W8/a.D)"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="98R4xEP/?4@_+=)K=B7t"><field name="VALUE">state</field></block></value><value name="B"><shadow type="math_number" id="8hj+tU0L?gD}c+|n#oUj"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_return" id="#e5KgeuNTZ3/I8QtL-wd"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Environment_octopus_BME280" id="cJqRV,%!mB2;abrL^${j"><field name="state">Environment.BME280_state.BME280_temperature_C</field></block></value></block></statement><next><block type="controls_if" id="-Wrn-KdF7LS](^3qT|rU"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="!Ixwk+Wxav]7N6l$x}lP"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="?ApExV:5k}v^ncZ]qU1Q"><field name="VALUE">state</field></block></value><value name="B"><shadow type="math_number" id="PH8].=yl#i8GNou*qQ:F"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="function_return" id="9A9M-`_`}A{CyB0p`|EF"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Environment_octopus_BME280" id="^N~zbzmHncC#s%k@%qs4"><field name="state">Environment.BME280_state.BME280_humidity</field></block></value></block></statement><next><block type="controls_if" id="8k3WR=objO`v$LnW!nk}"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=",mKtqqvf!k4mKwc=9fpD"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="V}bwKR8hnA:nHQl+W^,~"><field name="VALUE">state</field></block></value><value name="B"><shadow type="math_number" id="n-;;,z3kfNUC{G,F(cE("><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="function_return" id="QoqXkQv}8I%qeNc60{c6"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Environment_octopus_BME280" id="A2ItGigF8j:.^,j_k@06"><field name="state">Environment.BME280_state.BME280_pressure</field></block></value></block></statement><next><block type="controls_if" id="XBN$`3jcE;!x4rHWs|hq"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="yIjli7WiNHD$uVf_l5:V"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="GLz9Fo9i8+ETV2B:hg.c"><field name="VALUE">state</field></block></value><value name="B"><shadow type="math_number" id="~oHOB1GU#uLdg?CNaezO"><field name="NUM">3</field></shadow></value></block></value><statement name="DO0"><block type="function_return" id="`O;ZKhT7ZW$Ri_`bF,rY"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Environment_octopus_BME280" id="uGIZJrEj`7hRsGg!|?kV"><field name="state">Environment.BME280_state.BME280_altitude</field></block></value></block></statement><next><block type="function_return" id="^.Efe760gZym|.95`JQ~"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="}tM}~[1Q$dA9OS4d.*X3"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></xml>